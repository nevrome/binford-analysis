---
output: 
  pdf_document:
    pandoc_args: [
      "-V", "classoption=twocolumn"
    ]
    toc: yes 
    fig_caption: yes
    latex_engine: xelatex
bibliography: bibliography.bib
mainfont: "Arial"
csl: deutsches-archaologisches-institut.csl
---

```{r, echo=FALSE}
library(magrittr)
library(ggplot2)
```

# Ausbreitungsareale von Jäger- und Sammlergruppen

Im 5. Kapitel "Designing Frames of Reference and Exploring Projections" beschreibt Binford unter anderem eine Methode, Vorhersagen zu Attributen von Jäger- und Sammlergruppen in globalem Maßstab auf Grundlage von ethnographischen und naturräumlichen Daten treffen und über Projektion auf Karten visualisieren zu können. Im Abschnitt "Projecting Hunter-Gatherer Populations to the Entire Earth" gibt es wiederrum einen Unterabschnitt "Using Relational Projections as Frames of Reference", der das Vorgehen anhand eines Beispiels illustriert. Binford schreibt: 

> If I can develop continously scaled equations that summarize the relationship between the properties of hunter-gatherer systems and suites of environmental variables, it is likely that these equations could be used to project estimates for habitats from which there are few, if any, actual cases of hunter-gatherers documented in the resent past. But since such equations summarize interactive ecological relationships that are not confined to particular time periods, they may furnish strong clues about hunter-gatherer organizational variability that will provide a strong platform for subsequent theory building.  
> 
> -- [@binford_constructing_2001, 154.]

Das Beispiel konzentiert sich auf die Variable AREA -- die Größe des Areals, das von einer Jäger- und Sammlergruppe relativ exklusiv genutzt wird gemessen in Vielfachen von 100km². Mittels multipler Regression auf Grundlage des Gruppendatensatzes kommt Binford zu folgender Gleichung \ref{eq:area_multi}, die die abhängige Variable AREA in Relation zu mehreren unabhängigen Variablen (siehe Tabelle \ref{tab:variable_description_1}) beschreibt:

\begin{equation} \label{eq:area_multi}
\begin{aligned}
\mathit{AREA} = & 10 \mathbin{\char`\^} [3.421431 + \\ 
                & (0.004732 * \mathit{HUNTING}) + \\
                & (-0.387229 * \mathit{LBIO5}) + \\
                & (0.186574 * \mathit{LCOKLM}) + \\
                & (-0.110286 * \mathit{LRUNOFF}) + \\
                & (0.175157 * \mathit{WATRGRC}) + \\
                & (-0.743144 * \mathit{PERWLTG}) + \\
                & (0.004706) * \mathit{RLOW} + \\
                & (-0.080339) * \mathit{RUNGRC} + \\
                & (0.024755 * \mathit{SDTEMP})]
\end{aligned}
\end{equation}

```{r echo=FALSE}
tibble::tribble(
  ~colA,  ~colB, ~Einheit,
  "AREA", "Größe des Areals, das von einer Jäger- und Sammlergruppe relativ exklusiv genutzt wird", "Vielfache von 100km²",
  "HUNTING", "Ernährungsanteil tierischer, terrestrischer Ressourcen", "%", 
  "LBIO5", "", "",
  "LCOKLM", "Distanz zur nächstgelegenen, marinen Küste", "log10(km)", 
  "LRUNOFF", "", "", 
  "WATRGRC", "Anzahl der Monate im Wachstumszeitraum, in denen Wasser im Boden gespeichert bleibt", "Anzahl", 
  "PERWLTG", "", "", 
  "RLOW", "Niederschlagsmenge im trockensten Monat des Jahres", "Millimeter", 
  "RUNGRC", "", "",
  "SDTEMP", "Standardabweichung der mittleren Monatstemperatur", "keine Einheit"
) %>%
  knitr::kable(
    format = "latex",
    caption = "\\label{tab:variable_description_1} Kurzbeschreibung der Variablen in Binfords Ergebnismodell.",
    booktabs = T
  ) %>%
  kableExtra::column_spec(1, bold = TRUE) %>%
  kableExtra::column_spec(2, width = "10em")
```

Binford hat seine Analyse in SPSS (Version 6.1.2) ausgeführt. Ein Skriptprotokoll der Analysesession liegt mir nicht vor. Um die Ergebnis in Form der Modellgleichung zu reproduzieren, werde ich nun also zunächst versuchen, das Vorgehen so gut wie möglich nachzuvollziehen. Dafür steht mir eine hoffentlich gleiche oder zumindest hochgradig ähnliche Version des oben beschriebene Gruppendatensatz zu Verfügung (s.o.). Ich weiß weiterhin, dass Binford sein Modell mittels der Methode schrittweiser, Multipler Regression ermittelt hat. Unabhängige Variablen, die sich kollinear zu anderen unabhägigen Variablen verhalten, hat er entfernt. Die abschließende Entscheidung über das beste Modell hat er unter Beachtung von den Indikatorgrößen $R^2$ und Standardfehler getroffen. 

Ein wesentliches Wissendefizit besteht bezüglich der Information, in welcher Reihenfolge und mit welcher Rechtfertigung in den Schritten der Multiplen Regression Variablen entfernt wurden. Schon die Angabe, welche Varbiablen im Ausgangsdatensatz berücksichtigt wurden ist unscharf. Immerhin: Da Multiple Regression nur auf Variablen der Intervall- oder Ratioskala anwendbar ist, lässt sich eine erste Eingrenzung vornehmen. Der Metadatensatz LRBkey verfügt hierzu über die Spalte *type*, die zu jeder Variable ein Skalenniveau angibt. Leider wird nur zwischen "categorical" und "ordinal" unterschieden. Dabei werden alle Variablen jenseits der Nominalskala als "ordinal" angesprochen. Das genügt nicht, um automatisiert alle Ordinal- oder Verhältnisskalieren Variablen auszuwählen. Aus diesem Grund habe ich selbst die Spalte *type_exp* im Metadatensatz hinzugefügt, und nach meiner Einschätzung auf Grundlage des Wertebereichs und der Beschreibung eine Zuordnung zu einem der vier Skalenniveaus "nominal", "ordinal", "interval" und "ratio" vorgenommen. Tabelle \ref{tab:variable_key_example} illustriert die Unterschiede zwischen der vorhandenen und meiner neu vorgenommenen Zuordnung für ein paar zufällig ausgewählte Variablen. Abbildung \ref{fig:level_of_meas_bar} zeigt, wie sich die Reevaluation durch die in *type_exp* deutlich akzentuiertere Verteilung der Skalenniveaus auswirkt. 

```{r, cache=TRUE, message=FALSE, echo=FALSE, warning=FALSE}
key <- readr::read_csv("../data-raw/LRBkey.csv") #%>%
  #dplyr::rename("variable" = "X1")
```

```{r, echo=FALSE, cache=TRUE}
key[250:258, ] %>%
  dplyr::select(variable, description, type, type_exp) %>%
  rbind(
    data.frame(variable = "...", description = "...", type = "...", type_exp= "..."), 
    .,
    data.frame(variable = "...", description = "...", type = "...", type_exp= "...")
  ) %>%
  knitr::kable(
    format = "latex",
    caption = "\\label{tab:variable_key_example} Beispiel.",
    booktabs = T
  ) %>%
  kableExtra::column_spec(1, bold = TRUE) %>%
  kableExtra::column_spec(2, width = "10em")
```

```{r, echo = FALSE, fig.cap="\\label{fig:level_of_meas_bar}Ich bin eine Abbildung"}
key$type_exp <- as.factor(key$type_exp)
levels(key$type_exp) <- c("nominal", "ordinal", "interval", "ratio", "unknown")

type_exp_bar <- key %>%
  ggplot(aes(x = type_exp)) +
  geom_bar()

key$type <- as.factor(key$type)
levels(key$type) <- c("categorical", "ordinal")

type_bar <- key %>%
  ggplot(aes(x = type)) +
  geom_bar()

cowplot::plot_grid(type_bar, type_exp_bar)
```
